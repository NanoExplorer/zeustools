Welcome to ZEUStools's documentation!
=====================================

ZEUStools is designed to make our lives easier in terms of loading and processing ZEUS-2 data. It is organized into several different submodules.

The main utility right now is the Calibration Pipeline, which is a script that loads the output of Bo's pipeline and produces spectra and data files in physical units. It can be run as a commandline script, and requires an INI file containing settings it should use.

There is also a library of general functions.

The :py:mod:`.bpio` submodule is designed for reading in the outputs of Bo's data reduction pipeline. 

The :py:mod:`.calibration` submodule contains functions for determining the real physical properties of our data.

The :py:mod:`.transmission` submodule contains methods for calculating the transmission of the atmosphere at APEX
and handling the transmissions of the various filters and optics elements in the ZEUS-2 system. Notably the :class:`~.transmission.ZeusOpticsChain` class for computing the total throughput of all the optics in the cryostat. It is designed to be really easy to use::

    from zeustools import transmission
    optics = transmission.ZeusOpticsChain()
    wavelength = [200,201,202] # microns
    optics.get_transmission_microns(wavelength)

    atm = transmission.AtmosphereTransmission()
    pwv = [0.5, 0.6] # mm
    freq = [1500, 1500] # GHz
    atm.interp(freq,pwv)

The :py:mod:`.iv_tools` submodule is helpful for dealing with IV curves, for example calculating saturation power and normal resistance. 

The :py:mod:`.codystools` submodule contains the most useful functions designed by Cody, notably :func:`~.codystools.createModelSnakeEntireArray`, which smooths the time-stream in Fourier space.

The :py:mod:`.rooneystools` submodule includes a myriad of functions Christopher thought were useful. Most useful in this category are the :py:func:`~.rooneystools.nd_reject_outliers` function, which uses median absolute deviation to reject outliers in the time stream; the :class:`~.rooneystools.ArrayMapper` class, which lets you input a physical detector position (spectral, spatial) and return that detector's logical position (mce_row, mce_column); and the :func:`~.rooneystools.makeFileName` function, which will do all the date logic for you to return the correct filename, e.g. ``20191130/saturn_191130_0010``.

The :mod:`.pointing` module includes useful routines for use at APEX, including functions that process and plot raster pointing data, and automatically output the APECS calibration commands needed to properly respond to the pointing results.

The :mod:`.mce_data` module is the low-level interface provided by UBC for accessing the data files generated by ZEUS-2


.. toctree::
   :maxdepth: 2
   :caption: Contents:

   calibpipeline
   zeustools
   mce_data




Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`
